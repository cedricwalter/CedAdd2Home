jQuery.cookie=function(e,t,n){if(arguments.length>1&&String(t)!=="[object Object]"){n=jQuery.extend({},n);if(t===null||t===undefined){n.expires=-1}if(typeof n.expires==="number"){var r=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+r)}t=String(t);return document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}n=t||{};var s,o=n.raw?function(e){return e}:decodeURIComponent;return(s=(new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)")).exec(document.cookie))?o(s[1]):null};(function($){function hideBanner(e){e.preventDefault();settings.banner.slideToggle(settings.slideDuration);if(settings.useCookie){$.cookie(settings.cookieName,settings.cookieValue,{expires:settings.cookieLength})}}function shouldDisplay(){if(settings.debug){return true}try{if(!window.external.msIsSiteMode()){if(settings.useCookie){if($.cookie(settings.cookieName)!==settings.cookieValue){return true}else{return false}}else{return true}}else{return false}}catch(e){return false}}function showBanner(){if(shouldDisplay()){if(discStyles.hasOwnProperty(settings.discStyle)){var html=eval("discStyles."+settings.discStyle),html=html.replace("{{message}}",settings.message),html=html.replace("{{dragAlt}}",settings.dragAlt),html=html.replace("{{closeTitle}}",settings.closeTitle),html=html.replace("{{logoPath}}",settings.logoPath);settings.banner=$(html);settings.element.append(settings.banner);settings.banner.slideToggle(settings.slideDuration).find(".pinning-hide").bind("click",hideBanner)}else{$.error("Cannot find discoverability style.")}}}var settings={closeTitle:"Close",cookieLength:30,cookieName:"iePinning_"+document.domain,debug:false,discStyle:"toast",dragAlt:"Drag me!",logoPath:"/discoverability/images/logo.png",message:"Drag this to your Windows taskbar to enable special IE9 Features.",slideDuration:"fast",useCookie:true},discStyles={toast:'<div class="toast" id="pinning-discoverability"><div class="pinning-content"><img src="{{logoPath}}" alt="{{dragAlt}}" class="msPinSite" /><div class="pinning-main-text">{{message}}</div><a href="#close" class="pinning-hide" title="{{closeTitle}}">close</a></div></div></div>',pushUp:'<div class="push-up" id="pinning-discoverability"><div class="pinning-content"><div class="pinning-bg"><img src="{{logoPath}}" class="msPinSite" alt="{{dragAlt}}" /></div><div class="pinning-desc">{{message}}</div></div><a href="#close" class="pinning-hide" title="{{closeTitle}}">close</a></div>',topHat:'<div class="top-hat" id="pinning-discoverability"><div class="pinning-alignment"><div class="pinning-content"><img src="{{logoPath}}" class="msPinSite" alt="{{dragAlt}}" /><span class="pinning-desc">{{message}}</span><a href="#close" class="pinning-hide" title="{{closeTitle}}">close</a></div></div></div>'};var methods={init:function(e){settings=$.extend(settings,e);settings.element=this;settings.cookieValue="hidden";settings.banner=undefined;showBanner()},destroy:function(){settings.element.find(".pinning-hide").unbind("click");settings.element=undefined;settings.banner.remove();settings.banner=undefined}};$.fn.pinable=function(e){if(methods[e]){return methods[e].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof e==="object"||!e){return methods.init.apply(this,arguments)}else{$.error("Method "+e+" does not exist on jQuery.tooltip")}}})(jQuery)